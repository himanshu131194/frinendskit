module.exports=function(e){var t={};function r(a){if(t[a])return t[a].exports;var s=t[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(a,s,function(t){return e[t]}.bind(null,s));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dist/",r(r.s=28)}([function(e,t){e.exports=require("mongoose")},function(e,t,r){"use strict";(function(e){var r;(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,s,o={env:"production",port:process.env.PORT||8080,API_URL:"https://feelfunny.app",MONGO_URI:"mongodb+srv://feelfunny:feelfunny123@cluster0-ekrsc.mongodb.net/test?retryWrites=true&w=majority",COOKIEKEY:"mycookiesecret",DB:{DEFAULT_COUNT:0,DEFAULT_CONTENT_TYPE:1,DEFAULT_TRUE:!0,DEFAULT_FALSE:!1,DEFAULT_ACCOUNT_TYPE:0,GENDER:{MALE:1,FEMALE:2,OTHER:3},BADGETS:{NOOBIE:1,PRO:2}},S3:{BUCKET:"stylemycv",URL:"https://stylemycv.s3.ap-south-1.amazonaws.com",ACCESS:"AKIA3YIPQLXVUZ3S3UD7",SECRET:"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",PASSWORD:"WMwQ}t%c(XqR"},LOGIN_KEYS:{GOOGLE:{CLIENT:"38122336055-7stkqff3vae90il94e1p12tp0pq26a4h.apps.googleusercontent.com",SECRET:"Czvtwg5Is_ZZwdVPEwUAoR8c"}},MESSAGES:{100:"post has beeb added successfully",101:"section has been added successfully"},ERRORS:{100:"something went wrong, please try to post again"},USER:{POST_TYPES:{UPLOADED:1,LIKED:2,COMMENTED:3}},JWT_SECRET:"himanshu@1234",ACCESS_TOKEN:"0z6v8b4uua"};t.a=o,(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(o,"default","/Users/himanshusavita/Documents/live-projects/friendskit-front/config/index.js"),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)}).call(this,r(2)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,r){"use strict";(function(e){var a,s=r(20),o=r(21),n=r(6),i=r(13),d=r(8),c=r(14),u=r(22),l=r(0),p=r.n(l),f=r(1),m=r(23),v=r.n(m),b=r(24),y=r.n(b),h=r(15),g=r.n(h);function _(e,t,r,a,s,o,n){try{var i=e[o](n),d=i.value}catch(e){return void r(e)}i.done?t(d):Promise.resolve(d).then(a,s)}function L(e){return function(){var t=this,r=arguments;return new Promise((function(a,s){var o=e.apply(t,r);function n(e){_(o,a,s,n,i,"next",e)}function i(e){_(o,a,s,n,i,"throw",e)}n(void 0)}))}}(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var k,j,G,w,x,H,O,S,D,E,T,U,R,I,A,C,$=new y.a.S3({accessKeyId:f.a.S3.ACCESS,secretAccessKey:f.a.S3.SECRET,region:"ap-south-1"}),M={listSections:(I=L(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.find({});case 3:a=e.sent,r.status(200).send({data:a}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r.status(400).send({error:f.a.ERRORS[100]});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(e,t){return I.apply(this,arguments)}),listTags:(R=L(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.find({});case 3:a=e.sent,r.status(200).send({data:a}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r.status(400).send({error:f.a.ERRORS[100]});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(e,t){return R.apply(this,arguments)}),uploadImagetoS3:(U=L(regeneratorRuntime.mark((function e(t,r){var a,s,o,n,i,d,c,u,l,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=null,s=null,o=null,n=["jpg","jpeg","png","webp","gif"],t.body.url||!t.body.data64){e.next=8;break}a=Buffer.from(t.body.data64.replace(/^data:image\/\w+;base64,/,""),"base64"),o=t.body.ext,e.next=14;break;case 8:return e.next=10,g()({url:t.body.url,encoding:null});case 10:a=e.sent,i=new Buffer(a),o=t.body.url.split(".").pop(),s="data:image/".concat(o,";base64,")+i.toString("base64");case 14:return o=n.indexOf(o)<0?"jpg":o,d=v()(),c=a,u="image/".concat(o),l="posts/".concat(d,".").concat(o),p={Bucket:f.a.S3.BUCKET,Key:l,Body:c,ContentType:u},e.next=22,$.putObject(p).promise();case 22:return e.sent,e.abrupt("return",r.status(200).send({url:"https://".concat(f.a.S3.BUCKET,".s3.ap-south-1.amazonaws.com/").concat(l),key:l,slug:d,base64:s,mime:u,ext:o}));case 26:return e.prev=26,e.t0=e.catch(0),e.abrupt("return",r.status(400).send({error:e.t0}));case 29:case"end":return e.stop()}}),e,null,[[0,26]])}))),function(e,t){return U.apply(this,arguments)}),uploadPost:(T=L(regeneratorRuntime.mark((function e(t,r){var a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={user_id:t.user?t.user._id:"5e12110169481b125b9d0cb6",url:t.body.uploadedURL.trim(),slugId:t.body.postSlug.trim(),title:t.body.postTitle.trim(),section:t.body.postSections,mime_type:t.body.postMime.trim(),ext:t.body.postExt.trim()},t.body.postMime.indexOf("video")>=0&&(a.content_type=2),s=new n.a(a),e.prev=3,e.next=6,s.save();case 6:return e.sent,e.abrupt("return",r.status(200).send({data:f.a.MESSAGES[100]}));case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",r.status(400).send({error:f.a.ERRORS[100]}));case 13:case"end":return e.stop()}}),e,null,[[3,10]])}))),function(e,t){return T.apply(this,arguments)}),listOfUsersPosts:(E=L(regeneratorRuntime.mark((function e(t,r){var a,s,o,c,u,l,m,v,b,y,h,g,_,L,k,j;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=f.a.USER.POST_TYPES,s=a.COMMENTED,o=a.LIKED,c=!1,u=[],e.t0=parseInt(t.body.filters.value),e.next=e.t0===o?6:e.t0===s?10:14;break;case 6:return e.next=8,i.a.find({user_id:p.a.Types.ObjectId(t.user._id),is_active:!0},{_id:0,post_id:1});case 8:return u=e.sent,e.abrupt("break",16);case 10:return e.next=12,d.a.find({user_id:p.a.Types.ObjectId(t.user._id),is_active:!0},{_id:0,post_id:1});case 12:return u=e.sent,e.abrupt("break",16);case 14:return c=!0,e.abrupt("break",16);case 16:if(l=null,m=[],c){e.next=41;break}for(v=!0,b=!1,y=void 0,e.prev=22,h=u[Symbol.iterator]();!(v=(g=h.next()).done);v=!0)_=g.value,m.push(_.post_id);e.next=30;break;case 26:e.prev=26,e.t1=e.catch(22),b=!0,y=e.t1;case 30:e.prev=30,e.prev=31,v||null==h.return||h.return();case 33:if(e.prev=33,!b){e.next=36;break}throw y;case 36:return e.finish(33);case 37:return e.finish(30);case 38:l={is_active:!0,_id:{$in:m}},e.next=42;break;case 41:l={is_active:!0,user_id:p.a.Types.ObjectId(t.user._id)};case 42:return e.prev=42,L=parseInt(t.body.offset)||0,k=parseInt(t.body.limit)||2,e.next=46,n.a.aggregate([{$match:l},{$lookup:{from:"sections",localField:"section",foreignField:"_id",as:"section_details"}},{$unwind:"$section_details"},{$lookup:{from:"liked_posts",let:{liked_post:"$_id"},pipeline:[{$match:{$expr:{$eq:["$post_id","$$liked_post"]},user_id:p.a.Types.ObjectId(t.user._id),is_active:!0}}],as:"liked"}},{$project:{like_count:1,comment_count:1,share_count:1,download_count:1,user_id:1,url:1,title:1,section:1,mime_type:1,ext:1,created:1,liked:{$size:"$liked"},"section_details._id":1,"section_details.value":1,"section_details.url":1}},{$sort:{created:-1}}]).skip(L).limit(k);case 46:j=e.sent,r.status(200).send({data:j}),e.next=53;break;case 50:e.prev=50,e.t2=e.catch(42),r.status(400).send({error:f.a.ERRORS[100]});case 53:case"end":return e.stop()}}),e,null,[[22,26,30,38],[31,,33,37],[42,50]])}))),function(e,t){return E.apply(this,arguments)}),listPosts:(D=L(regeneratorRuntime.mark((function e(t,r){var a,s,o,i,d,c,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={is_active:!0},e.prev=1,s=parseInt(t.body.offset)||0,o=parseInt(t.body.limit)||2,i=t.user?p.a.Types.ObjectId(t.user._id):0,d=t.body,c=d.section,u=d.tag,c&&(a.section=p.a.Types.ObjectId(c.trim())),u&&(a.tag={$in:[p.a.Types.ObjectId(u.trim())]}),e.next=8,n.a.aggregate([{$match:a},{$lookup:{from:"sections",localField:"section",foreignField:"_id",as:"section_details"}},{$unwind:"$section_details"},{$lookup:{from:"liked_posts",let:{liked_post:"$_id"},pipeline:[{$match:{$expr:{$eq:["$post_id","$$liked_post"]},user_id:i,is_active:!0}}],as:"liked"}},{$project:{like_count:1,comment_count:1,share_count:1,download_count:1,user_id:1,url:1,title:1,section:1,mime_type:1,ext:1,created:1,liked:{$size:"$liked"},"section_details._id":1,"section_details.value":1,"section_details.url":1}},{$sort:{created:-1}}]).skip(s).limit(o);case 8:l=e.sent,r.status(200).send({data:l}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),r.status(400).send({error:f.a.ERRORS[100]});case 15:case"end":return e.stop()}}),e,null,[[1,12]])}))),function(e,t){return D.apply(this,arguments)}),postLiked:(S=L(regeneratorRuntime.mark((function e(t,r){var a,s,o,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.body.post_id.trim(),s=!0===t.body.flag?1:-1,e.prev=2,o=s>0,e.next=6,i.a.findOneAndUpdate({user_id:p.a.Types.ObjectId(t.user._id),post_id:p.a.Types.ObjectId(a)},{is_active:o},{upsert:!0});case 6:return e.next=8,n.a.findOneAndUpdate({_id:a},{$inc:{like_count:s}},{new:!0});case 8:d=e.sent,r.status(200).send({data:d}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.status(400).send({error:e.t0});case 15:case"end":return e.stop()}}),e,null,[[2,12]])}))),function(e,t){return S.apply(this,arguments)}),queryTest:(O=L(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.a.updateMany({},{liked:!1,like_count:0,comment_count:0,share_count:0});case 3:a=e.sent,r.status(200).send({data:a}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r.status(400).send({error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(e,t){return O.apply(this,arguments)}),postComments:(H=L(regeneratorRuntime.mark((function e(t,r){var a,s,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.body.post_id.trim(),s=t.body.text.trim(),o=new d.a({user_id:t.user._id,post_id:a,text:s}),e.prev=2,e.next=5,o.save();case 5:return e.sent,e.next=8,n.a.findOneAndUpdate({_id:a},{$inc:{comment_count:1}},{new:!0});case 8:i=e.sent,r.status(200).send({data:i}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.status(400).send({error:e.t0});case 15:case"end":return e.stop()}}),e,null,[[2,12]])}))),function(e,t){return H.apply(this,arguments)}),listComments:(x=L(regeneratorRuntime.mark((function e(t,r){var a,s,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.body.post_id,s=p.a.Types.ObjectId(t.user._id),e.prev=2,e.next=5,d.a.aggregate([{$match:{post_id:p.a.Types.ObjectId(a),is_active:!0}},{$lookup:{from:"users",localField:"user_id",foreignField:"_id",as:"user_details"}},{$unwind:"$user_details"},{$lookup:{from:"liked_comments",let:{liked_comment:"$_id"},pipeline:[{$match:{$expr:{$eq:["$comment_id","$$liked_comment"]},post_id:p.a.Types.ObjectId(a),user_id:p.a.Types.ObjectId(t.user._id),is_active:!0}}],as:"liked"}},{$project:(n={points:1,created:1,liked:{$size:"$liked"},user_id:1,post_id:1,text:1,"user_details._id":1,"user_details.name":1,"user_details.profile_pic":1},i="user_details._id",c=1,i in n?Object.defineProperty(n,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[i]=c,n)},{$set:{current_user:{$eq:["$user_id",s]}}},{$sort:{created:-1}}]);case 5:o=e.sent,r.status(200).send({data:o}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),r.status(400).send({error:e.t0});case 12:case"end":return e.stop()}var n,i,c}),e,null,[[2,9]])}))),function(e,t){return x.apply(this,arguments)}),upvoteComments:(w=L(regeneratorRuntime.mark((function e(t,r){var a,s,o,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.body.comment_id,s=t.body.post_id,o=!0===t.body.flag?1:-1,e.prev=3,n=o>0,e.next=7,c.a.findOneAndUpdate({user_id:p.a.Types.ObjectId(t.user._id),comment_id:p.a.Types.ObjectId(a),post_id:p.a.Types.ObjectId(s)},{is_active:n},{upsert:!0});case 7:return e.next=9,d.a.findOneAndUpdate({_id:p.a.Types.ObjectId(a)},{$inc:{points:o}},{new:!0});case 9:i=e.sent,r.status(200).send({data:i}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),r.status(400).send({error:e.t0});case 16:case"end":return e.stop()}}),e,null,[[3,13]])}))),function(e,t){return w.apply(this,arguments)}),deleteComment:(G=L(regeneratorRuntime.mark((function e(t,r){var a,s,o,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.body,s=a.comment_id,o=a.post_id,e.prev=1,e.next=4,d.a.findOneAndUpdate({_id:p.a.Types.ObjectId(s),user_id:p.a.Types.ObjectId(t.user._id),post_id:p.a.Types.ObjectId(o)},{is_active:!1});case 4:return n=e.sent,e.next=7,c.a.findOneAndUpdate({user_id:p.a.Types.ObjectId(t.user._id),comment_id:p.a.Types.ObjectId(s),post_id:p.a.Types.ObjectId(o)},{is_active:!1});case 7:r.status(200).send({data:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),r.status(400).send({error:e.t0});case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))),function(e,t){return G.apply(this,arguments)}),downloadContent:(j=L(regeneratorRuntime.mark((function e(t,r){var a,s,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.query,s=a.content_url,o=a.post_id,e.prev=1,e.next=4,g()({uri:s,encoding:null});case 4:return i=e.sent,e.next=7,n.a.findOneAndUpdate({_id:p.a.Types.ObjectId(o)},{$inc:{download_count:1}},{new:!0});case 7:e.sent,r.status(200).send(i),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),r.status(400).send({error:e.t0});case 14:case"end":return e.stop()}}),e,null,[[1,11]])}))),function(e,t){return j.apply(this,arguments)}),reportPost:(k=L(regeneratorRuntime.mark((function e(t,r){var a,s,o,i,d,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.body,s=a.post_id,o=a.report_reason,i=a.report_text,e.prev=1,e.next=4,n.a.findOneAndUpdate({_id:p.a.Types.ObjectId(s)},{is_active:!1});case 4:return d=new u.a({text:i,reason:o,user_id:p.a.Types.ObjectId(t.user._id),post_id:p.a.Types.ObjectId(s)}),e.next=7,d.save();case 7:c=e.sent,r.status(200).send({data:c}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),r.status(400).send({error:e.t0});case 14:case"end":return e.stop()}}),e,null,[[1,11]])}))),function(e,t){return k.apply(this,arguments)})};t.a=M,(A="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(A.register($,"s3","/Users/himanshusavita/Documents/live-projects/friendskit-front/server/controllers/posts.controller.js"),A.register(M,"default","/Users/himanshusavita/Documents/live-projects/friendskit-front/server/controllers/posts.controller.js")),(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&C(e)}).call(this,r(2)(e))},function(e,t){e.exports=require("passport")},function(e,t,r){"use strict";(function(e){var a;r(4);(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var s,o,n={googleCallback:function(e,t){t.redirect("/")},facebookCallback:function(e,t){t.redirect("/")},googleAuthenticate:function(e,t){e.user?t.status(200).send({user:e.user}):t.send({user:null})},allLogout:function(e,t){e.logout(),t.redirect("/")},authenticate:function(e,t,r){if(!e.user)return t.status(403).send({error:"No token provided"});r()}};t.a=n,(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&s.register(n,"default","/Users/himanshusavita/Documents/live-projects/friendskit-front/server/controllers/users.controller.js"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)}).call(this,r(2)(e))},function(e,t,r){"use strict";(function(e){var a,s=r(0),o=r.n(s),n=r(1);(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var i,d,c=n.a.DB,u=new o.a.Schema({user_id:{type:o.a.Schema.ObjectId,ref:"users"},url:{type:String},poster_url:{type:String},slug:{type:String},title:{type:String},liked:{type:Boolean,default:c.DEFAULT_FALSE},like_count:{type:Number,default:c.DEFAULT_COUNT},comment_count:{type:Number,default:c.DEFAULT_COUNT},share_count:{type:Number,default:c.DEFAULT_COUNT},download_count:{type:Number,default:c.DEFAULT_COUNT},tags:[{type:o.a.Schema.ObjectId,ref:"tags"}],section:{type:o.a.Schema.ObjectId,ref:"sections"},content_type:{type:Number,default:c.DEFAULT_CONTENT_TYPE},mime_type:{type:String},ext:{type:String},is_new:{type:Boolean,default:c.DEFAULT_TRUE},is_hide:{type:Boolean,default:c.DEFAULT_FALSE},is_nsfw:{type:Boolean,default:c.DEFAULT_FALSE},width:{type:Number},height:{type:Number},duration:{type:Number,default:c.DEFAULT_COUNT},size:{type:Number},liker_list:[{type:o.a.Schema.ObjectId,ref:"users"}],is_active:{type:Boolean,default:c.DEFAULT_TRUE},created:{type:Date,default:Date.now},updated:{type:Date},comment:{type:String}}),l=o.a.model("posts",u);t.a=l,(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(c,"DB","/Users/himanshusavita/Documents/live-projects/friendskit-front/server/models/posts.model.js"),i.register(u,"Posts","/Users/himanshusavita/Documents/live-projects/friendskit-front/server/models/posts.model.js"),i.register(l,"default","/Users/himanshusavita/Documents/live-projects/friendskit-front/server/models/posts.model.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,r(2)(e))},function(e,t){e.exports=require("express")},function(e,t,r){"use strict";(function(e){var a,s=r(0),o=r.n(s),n=r(1);(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var i,d,c=n.a.DB,u=new o.a.Schema({post_id:{type:o.a.Schema.ObjectId,ref:"posts"},user_id:{type:o.a.Schema.ObjectId,ref:"users"},parent_id:{type:o.a.Schema.ObjectId,ref:"comments"},points:{type:Number,default:c.DEFAULT_COUNT},liked:{type:Boolean,default:c.DEFAULT_FALSE},replies_count:{type:Number,default:c.DEFAULT_COUNT},text:{type:String},is_active:{type:Boolean,default:c.DEFAULT_TRUE},created:{type:Date,default:Date.now},updated:{type:Date},comment:{type:String}}),l=o.a.model("comments",u);t.a=l,(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(c,"DB","/Users/himanshusavita/Documents/live-projects/friendskit-front/server/models/comments.model.js"),i.register(u,"Comments","/Users/himanshusavita/Documents/live-projects/friendskit-front/server/models/comments.model.js"),i.register(l,"default","/Users/himanshusavita/Documents/live-projects/friendskit-front/server/models/comments.model.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,r(2)(e))},function(e,t){e.exports=require("crypto")},function(e,t,r){"use strict";(function(e){var a,s=r(0),o=r.n(s),n=r(9),i=r.n(n),d=r(1);(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var c=d.a.DB,u=new o.a.Schema({name:{type:String,trim:!0,required:!0,unique:!0},email:{type:String,trim:!0,required:!0,unique:!0},password_hash:{type:String,trim:!0},password_salt:{type:String,trim:!0},gender:{type:Number,default:c.GENDER.MALE},dob:{type:Date},country:{type:Number},profile_pic:{type:String},description:{type:String},badgets:{type:Number,default:c.BADGETS.NOOBIE},accounts:{facebook:{type:String},google:{type:String}},account_type:{type:Number,default:c.DEFAULT_ACCOUNT_TYPE},account_id:{type:String},favourite_sections:[{type:Number}],created:{type:Date,default:Date.now},updated:{type:Date},comment:{type:String}});u.virtual("password").set((function(e){this._password=e,this.password_salt=this.makeSalt(),this.password_hash=this.encryptPassword(e)})).get((function(){return this._password})),u.methods={authenticate:function(e){return this.encryptPassword(e)===this.password_hash},encryptPassword:function(e){if(!e)return"";try{return i.a.createHmac("sha1",this.password_salt).update(e).digest("hex")}catch(e){return""}},makeSalt:function(){return Math.round((new Date).valueOf()*Math.random())+""}};var l,p,f=o.a.model("users",u);t.a=f,(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(c,"DB","/Users/himanshusavita/Documents/live-projects/friendskit-front/server/models/users.model.js"),l.register(u,"UserSchema","/Users/himanshusavita/Documents/live-projects/friendskit-front/server/models/users.model.js"),l.register(f,"default","/Users/himanshusavita/Documents/live-projects/friendskit-front/server/models/users.model.js")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)}).call(this,r(2)(e))},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("body-parser")},function(e,t,r){"use strict";(function(e){var a,s=r(0),o=r.n(s),n=(r(9),r(1));(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var i,d,c=n.a.DB,u=new o.a.Schema({user_id:{type:o.a.Schema.ObjectId,ref:"users"},post_id:{type:o.a.Schema.ObjectId,ref:"posts"},is_active:{type:Boolean,default:c.DEFAULT_TRUE},created:{type:Date,default:Date.now},updated:{type:Date},comment:{type:String}}),l=o.a.model("liked_posts",u);t.a=l,(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(c,"DB","/Users/himanshusavita/Documents/live-projects/friendskit-front/server/models/liked_posts.model.js"),i.register(u,"likePosts","/Users/himanshusavita/Documents/live-projects/friendskit-front/server/models/liked_posts.model.js"),i.register(l,"default","/Users/himanshusavita/Documents/live-projects/friendskit-front/server/models/liked_posts.model.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,r(2)(e))},function(e,t,r){"use strict";(function(e){var a,s=r(0),o=r.n(s),n=(r(9),r(1));(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var i,d,c=n.a.DB,u=new o.a.Schema({user_id:{type:o.a.Schema.ObjectId,ref:"users"},comment_id:{type:o.a.Schema.ObjectId,ref:"comments"},post_id:{type:o.a.Schema.ObjectId,ref:"posts"},is_active:{type:Boolean,default:c.DEFAULT_TRUE},created:{type:Date,default:Date.now},updated:{type:Date},comment:{type:String}}),l=o.a.model("liked_comments",u);t.a=l,(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(c,"DB","/Users/himanshusavita/Documents/live-projects/friendskit-front/server/models/liked_comments.model.js"),i.register(u,"likedComments","/Users/himanshusavita/Documents/live-projects/friendskit-front/server/models/liked_comments.model.js"),i.register(l,"default","/Users/himanshusavita/Documents/live-projects/friendskit-front/server/models/liked_comments.model.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,r(2)(e))},function(e,t){e.exports=require("request-promise")},function(e,t,r){"use strict";(function(e){var a,s=r(7),o=r.n(s),n=r(11),i=r.n(n),d=r(4),c=r.n(d),u=r(1),l=r(12),p=r.n(l),f=r(17),m=r(18),v=r(19),b=r(25),y=r.n(b),h=r(26),g=r.n(h);r(31);(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var _=o()();_.use(y()()),_.use(p.a.urlencoded({limit:"10mb",extended:!0})),_.use(p.a.json({limit:"10mb",extended:!0}));var L=process.cwd();_.use(g()({maxAge:2592e6,keys:[u.a.COOKIEKEY]})),_.use(c.a.initialize()),_.use(c.a.session()),_.use(o.a.static(i.a.join(L,"public"))),_.use("/dist",o.a.static(i.a.join(L,"dist"))),_.use("/api",Object(m.a)(o.a.Router())),_.use("/api",Object(v.a)(o.a.Router())),_.get("*",(function(e,t){t.send(Object(f.a)())}));var k,j,G=_;t.a=G,(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(k.register(_,"app","/Users/himanshusavita/Documents/live-projects/friendskit-front/server/express.js"),k.register(L,"CURRENT_WORKING_DIR","/Users/himanshusavita/Documents/live-projects/friendskit-front/server/express.js"),k.register(G,"default","/Users/himanshusavita/Documents/live-projects/friendskit-front/server/express.js")),(j="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&j(e)}).call(this,r(2)(e))},function(e,t,r){"use strict";(function(e){var r;(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,s,o=function(){return'<!DOCTYPE html>\n        <html>\n        <head>\n            \x3c!-- Global site tag (gtag.js) - Google Analytics --\x3e\n            <script async src="https://www.googletagmanager.com/gtag/js?id=UA-162054083-1"><\/script>\n            <script>\n            window.dataLayer = window.dataLayer || [];\n            function gtag(){dataLayer.push(arguments);}\n            gtag(\'js\', new Date());\n\n            gtag(\'config\', \'UA-162054083-1\');\n            <\/script>\n\n            \x3c!-- Required meta tags --\x3e\n            <meta charset="utf-8">\n            <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">\n            <meta http-equiv="x-ua-compatible" content="ie=edge">\n\n            <title>feelfunny</title>\n            <link rel="icon" type="image/png" href="assets/images/favicon.png" />\n            \x3c!-- Fonts --\x3e\n            <link href="https://fonts.googleapis.com/css?family=Montserrat:600,700,800,900" rel="stylesheet">\n            <link href="https://fonts.googleapis.com/css?family=Roboto:400,500" rel="stylesheet">\n            <link href="https://feel-funny.s3.ap-south-1.amazonaws.com/friendskit/assets/css/materialdesignicons.min.css" rel="stylesheet">\n            <link href="https://feel-funny.s3.ap-south-1.amazonaws.com/friendskit/assets/css/webfont.css" rel="stylesheet">\n            \x3c!-- Core CSS --\x3e\n            <link rel="stylesheet" href="/css/bulma.css">\n            <link rel="stylesheet" href="/css/app.css">\n            \n\n            \x3c!-- Concatenated js plugins and jQuery --\x3e\n            <script src="https://feel-funny.s3.ap-south-1.amazonaws.com/friendskit/assets/js/app.js"><\/script>\n            \n            \x3c!-- Core js --\x3e\n            <script src="https://feel-funny.s3.ap-south-1.amazonaws.com/friendskit/assets/data/tipuedrop_content.js"><\/script>\n            <script src="https://feel-funny.s3.ap-south-1.amazonaws.com/friendskit/assets/js/global.js"><\/script>\n            <script src="https://feel-funny.s3.ap-south-1.amazonaws.com/friendskit/assets/js/main.js"><\/script>\n            \n            \x3c!-- Page and UI related js --\x3e\n            <script src="https://feel-funny.s3.ap-south-1.amazonaws.com/friendskit/assets/js/feed.js"><\/script>\n\n        </head>\n        <body>\n                \x3c!-- Pageloader --\x3e\n                <div class="pageloader"></div>\n                <div class="infraloader is-active"></div>\n                <div class="app-overlay"></div>\n               \n                <div id="root"></div>\n                <script type="text/javascript" src="/dist/bundle.js"><\/script>\n\n       \n      \n                \n                \x3c!-- Components js --\x3e\n                <script src="httpss://feel-funny.s3.ap-south-1.amazonaws.com/friendskit/assets/js/widgets.js"><\/script>\n                <script src="httpss://feel-funny.s3.ap-south-1.amazonaws.com/friendskit/assets/js/autocompletes.js"><\/script>\n                <script src="httpss://feel-funny.s3.ap-south-1.amazonaws.com/friendskit/assets/js/modal-uploader.js"><\/script>\n                <script src="httpss://feel-funny.s3.ap-south-1.amazonaws.com/friendskit/assets/js/popovers-users.js"><\/script>\n                <script src="httpss://feel-funny.s3.ap-south-1.amazonaws.com/friendskit/assets/js/popovers-pages.js"><\/script>\n                <script src="httpss://feel-funny.s3.ap-south-1.amazonaws.com/friendskit/assets/js/go-live.js"><\/script>\n                <script src="httpss://feel-funny.s3.ap-south-1.amazonaws.com/friendskit/assets/js/lightbox.js"><\/script>\n                <script src="httpss://feel-funny.s3.ap-south-1.amazonaws.com/friendskit/assets/js/touch.js"><\/script>\n                <script src="httpss://feel-funny.s3.ap-south-1.amazonaws.com/friendskit/assets/js/tour.js"><\/script>   \n        </body> \n    </html>'};t.a=o,(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(o,"default","/Users/himanshusavita/Documents/live-projects/friendskit-front/template.js"),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)}).call(this,r(2)(e))},function(e,t,r){"use strict";(function(e){var a,s=r(4),o=r.n(s),n=r(5);(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var i,d,c=function(e){return e.get("/auth/google",o.a.authenticate("google",{scope:["profile","email"]})),e.get("/auth/google/callback",o.a.authenticate("google"),n.a.googleCallback),e.get("/auth/facebook",o.a.authenticate("facebook",{scope:["profile","email"]})),e.get("/auth/facebook/callback",o.a.authenticate("facebook"),n.a.facebookCallback),e.get("/logout",n.a.allLogout),e.get("/authenticate",n.a.googleAuthenticate),e};t.a=c,(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&i.register(c,"default","/Users/himanshusavita/Documents/live-projects/friendskit-front/server/routes/users.routes.js"),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,r(2)(e))},function(e,t,r){"use strict";(function(e){var a,s=r(3),o=r(5);(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var n,i,d=function(e){return e.get("/list-sections",s.a.listSections),e.get("/list-tags",s.a.listTags),e.post("/list-posts",s.a.listPosts),e.post("/list-usersposts",o.a.authenticate,s.a.listOfUsersPosts),e.get("/query-test",s.a.queryTest),e.get("/download-content",s.a.downloadContent),e.post("/list-comments",o.a.authenticate,s.a.listComments),e.post("/upvote-comments",o.a.authenticate,s.a.upvoteComments),e.post("/delete-comments",o.a.authenticate,s.a.deleteComment),e.post("/report-post",o.a.authenticate,s.a.reportPost),e.post("/upload-s3",s.a.uploadImagetoS3),e.post("/upload-posts",s.a.uploadPost),e.post("/post-liked",o.a.authenticate,s.a.postLiked),e.post("/post-comments",o.a.authenticate,s.a.postComments),e};t.a=d,(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(d,"default","/Users/himanshusavita/Documents/live-projects/friendskit-front/server/routes/posts.routes.js"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)}).call(this,r(2)(e))},function(e,t,r){"use strict";(function(e){var a,s=r(0),o=r.n(s),n=r(1);(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var i,d,c=n.a.DB,u=new o.a.Schema({value:{type:String},description:{type:String},url:{type:String},is_active:{type:Boolean,default:c.DEFAULT_TRUE},created:{type:Date,default:Date.now},updated:{type:Date},comment:{type:String}}),l=o.a.model("sections",u);t.a=l,(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(c,"DB","/Users/himanshusavita/Documents/live-projects/friendskit-front/server/models/sections.model.js"),i.register(u,"Sections","/Users/himanshusavita/Documents/live-projects/friendskit-front/server/models/sections.model.js"),i.register(l,"default","/Users/himanshusavita/Documents/live-projects/friendskit-front/server/models/sections.model.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,r(2)(e))},function(e,t,r){"use strict";(function(e){var a,s=r(0),o=r.n(s),n=r(1);(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var i,d,c=n.a.DB,u=new o.a.Schema({name:{type:String},created:{type:Date,default:Date.now},is_active:{type:Boolean,default:c.DEFAULT_TRUE},updated:{type:Date},comment:{type:String}}),l=o.a.model("tags",u);t.a=l,(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(c,"DB","/Users/himanshusavita/Documents/live-projects/friendskit-front/server/models/tags.model.js"),i.register(u,"Tags","/Users/himanshusavita/Documents/live-projects/friendskit-front/server/models/tags.model.js"),i.register(l,"default","/Users/himanshusavita/Documents/live-projects/friendskit-front/server/models/tags.model.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,r(2)(e))},function(e,t,r){"use strict";(function(e){var a,s=r(0),o=r.n(s),n=r(1);(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var i,d,c=n.a.DB,u=new o.a.Schema({text:{type:String},reason:{type:String},user_id:{type:o.a.Schema.ObjectId,ref:"users"},post_id:{type:o.a.Schema.ObjectId,ref:"posts"},created:{type:Date,default:Date.now},updated:{type:Date},comment:{type:String}}),l=o.a.model("report_posts",u);t.a=l,(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(c,"DB","/Users/himanshusavita/Documents/live-projects/friendskit-front/server/models/report_posts.model.js"),i.register(u,"Reportposts","/Users/himanshusavita/Documents/live-projects/friendskit-front/server/models/report_posts.model.js"),i.register(l,"default","/Users/himanshusavita/Documents/live-projects/friendskit-front/server/models/report_posts.model.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)}).call(this,r(2)(e))},function(e,t){e.exports=require("uuid/v4")},function(e,t){e.exports=require("aws-sdk")},function(e,t){e.exports=require("cors")},function(e,t){e.exports=require("cookie-session")},function(e,t){e.exports=require("passport-google-oauth20")},function(e,t,r){r(29),e.exports=r(30)},function(e,t){e.exports=require("babel-polyfill")},function(e,t,r){"use strict";r.r(t);var a=r(1),s=r(0),o=r.n(s),n=r(16);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;o.a.Promise=global.Promise,o.a.connect(a.a.MONGO_URI,{useNewUrlParser:!0}),o.a.connection.on("error",(function(){throw new Error("unable to connect to database")})),n.a.listen(a.a.port,(function(e){e&&console.log(e),console.info("Server started on port %s.",a.a.port)}))},function(e,t,r){"use strict";var a=r(4),s=r.n(a),o=r(27),n=r(10),i=r(1);function d(e,t,r,a,s,o,n){try{var i=e[o](n),d=i.value}catch(e){return void r(e)}i.done?t(d):Promise.resolve(d).then(a,s)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(a,s){var o=e.apply(t,r);function n(e){d(o,a,s,n,i,"next",e)}function i(e){d(o,a,s,n,i,"throw",e)}n(void 0)}))}}"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;s.a.serializeUser((function(e,t){t(null,e.id)})),s.a.deserializeUser(function(){var e=c(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.a.findOne({_id:t});case 2:a=e.sent,r(null,a);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),s.a.use(new o.Strategy({clientID:i.a.LOGIN_KEYS.GOOGLE.CLIENT,clientSecret:i.a.LOGIN_KEYS.GOOGLE.SECRET,callbackURL:"/api/auth/google/callback"},function(){var e=c(regeneratorRuntime.mark((function e(t,r,a,s){var o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.a.findOne({account_id:a.id});case 2:if(!(o=e.sent)){e.next=5;break}return e.abrupt("return",s(null,o));case 5:return e.next=7,new n.a({name:a.emails[0].value,email:a.displayName,account_type:1,account_id:a.id,profile_pic:a.photos[0].value}).save();case 7:i=e.sent,s(null,i);case 9:case"end":return e.stop()}}),e)})));return function(t,r,a,s){return e.apply(this,arguments)}}()))}]);